<div class="checkout-container" >
    <h2 class="text-center">Checkout!</h2>
</div>

    <div class="row mt-4 p-4" *ngIf="!orderPlaced;">
        <div class="col-lg-7 col-md-9 mb-4">
            <div class="card shadow-sm p-3">
                <h4 class="mb-3">Customer Information</h4>
                <form [formGroup]="checkoutForm">
                    <mat-form-field appearance="outline" class=" col-md-12">
                        <mat-label>Name</mat-label>
                        <input matInput placeholder="Enter name" formControlName="name" />
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="col-md-12">
                        <mat-label>Email</mat-label>
                        <input matInput placeholder="Enter email" formControlName="email" />
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="col-md-12">
                        <mat-label>Address</mat-label>
                        <input matInput placeholder="Enter address" type="text" formControlName="address" />
                    </mat-form-field>

                    <h4>Payment Details</h4>

                    <mat-form-field appearance="outline" class="col-md-12">
                        <mat-label>Card Number</mat-label>
                        <input matInput placeholder="Enter card number" type="number" formControlName="cardNumber" />
                    </mat-form-field>
                    <div>
                        <mat-form-field appearance="outline" class="col-md-6">
                            <mat-label>Expiration Date </mat-label>
                            <input matInput placeholder="MM/YY" type="date" formControlName="expirationDate" />
                        </mat-form-field>
                        <mat-form-field appearance="outline" class="col-md-6 ps-3">
                            <mat-label>CVV</mat-label>
                            <input matInput placeholder="Enter CVV" type="number" formControlName="cvv" />
                        </mat-form-field>
                    </div>

                </form>
            </div>
        </div>

        <!-- Order Summary -->
        <div class="col-lg-5 col-md-12">
            <div class="card shadow-sm p-4">
                <h4 class="mb-3">Order Summary</h4>

                <!-- Example Items -->
                <div *ngFor="let item of CartItem" class="d-flex justify-content-between mb-2 border-bottom pb-2">
                    <span>{{ item.productName }} (x{{ item.quantity }})</span>
                    <span>${{ item.productPrice }}</span>
                </div>

                <div class="d-flex justify-content-between mt-3 fw-bold fs-5">
                    <span>Total:</span>
                    <span>Rs: {{ checkoutPrice() }}</span>
                </div>
                <button type="button" [disabled]="!checkoutForm.valid" class="btn btn-success wd-100 mt-3" (click)="placeOrder()">Place Order</button>
            </div>
        </div>
    </div>



<div *ngIf="orderPlaced" class="thank-you text-center">
  <h1>ðŸŽ‰ Thank you for your order!</h1>
  <p>Your order has been placed successfully.</p>
    <button routerLink="/products" class="btn btn-success mt-4">Continue Shopping</button>
</div>
